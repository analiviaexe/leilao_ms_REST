<div *ngIf="!logado">
  <app-login (usuarioLogado)="onUsuarioLogado($event)"></app-login>
</div>

<div *ngIf="logado" style="padding: 20px;">
  <h1>Sistema de LeilÃµes - UsuÃ¡rio: {{ usuarioId }}</h1>
  
  <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 20px;">
    
    <div style="display: flex; flex-direction: column; gap: 20px;">
      <app-criar-leilao (leilaoCriado)="onLeilaoCriado()"></app-criar-leilao>
      <app-formulario-lance [usuarioId]="usuarioId" [leiloes]="leiloes"></app-formulario-lance>
    </div>
    
    <div>
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
        <h3 style="margin: 0;">LeilÃµes Ativos</h3>
        <button (click)="carregarLeiloes()" style="padding: 5px 10px;">
          ðŸ”„ Atualizar
        </button>
      </div>
      <app-lista-leiloes 
        [leiloes]="leiloes" 
        [usuarioId]="usuarioId"
        (interesseRegistrado)="onInteresseRegistrado($event)"
        (interesseCancelado)="onInteresseCancelado($event)">
      </app-lista-leiloes>
    </div>
    
    <div>
      <div style="border: 2px solid #333; padding: 10px; margin-bottom: 10px; display: flex; justify-content: space-between;">
        <h3 style="margin: 0 10px 0 0;">Status SSE</h3>
        <div style="font-weight: bold; text-align: center;">
          {{ sseConectado ? 'ðŸŸ¢ Conectado' : 'ðŸ”´ Desconectado' }}
        </div>
      </div>
      <app-notificacoes [notificacoes]="notificacoes" [conectado]="sseConectado"></app-notificacoes>
    </div>
    
  </div>
</div>
